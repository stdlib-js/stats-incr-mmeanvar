// Copyright (c) 2022 The Stdlib Authors. License is Apache-2.0: http://www.apache.org/licenses/LICENSE-2.0
/// <reference types="./index.d.ts" />
import e from"https://cdn.jsdelivr.net/gh/stdlib-js/assert-is-positive-integer@esm/index.mjs";import r from"https://cdn.jsdelivr.net/gh/stdlib-js/assert-is-array-like-object@esm/index.mjs";import t from"https://cdn.jsdelivr.net/gh/stdlib-js/math-base-assert-is-nan@esm/index.mjs";import s from"https://cdn.jsdelivr.net/gh/stdlib-js/array-float64@esm/index.mjs";import i from"https://cdn.jsdelivr.net/gh/stdlib-js/error-tools-fmtprodmsg@esm/index.mjs";var n=e.isPrimitive,o=r,m=t,a=s,d=i;var f=function(e,r){var t,s,i,f,l,j,h,p,v,N;if(1===arguments.length)t=[0,0],h=e;else{if(!o(e))throw new TypeError(d("0eBAC",e));t=e,h=r}if(!n(h))throw new TypeError(d("0eBAD",h));return i=new a(h),v=h-1,l=0,j=0,N=-1,p=0,g;function g(e){var r,n;if(0===arguments.length)return 0===p?null:(t[0]=j,1===p?m(l)?t[1]=NaN:t[1]=0:t[1]=p<h?l/(p-1):l/v,t);if(N=(N+1)%h,m(e))p=h,j=NaN,l=NaN;else{if(p<h)return i[N]=e,l+=(s=e-j)*(e-(j+=s/(p+=1))),t[0]=j,t[1]=1===p?0:l/(p-1),t;if(1===p)return j=e,l=0,t[0]=e,t[1]=0,t;if(m(i[N])){for(p=1,j=e,l=0,r=0;r<h;r++)if(r!==N){if(n=i[r],m(n)){p=h,j=NaN,l=NaN;break}l+=(s=n-j)*(n-(j+=s/(p+=1)))}}else!1===m(l)&&(f=i[N],l+=(s=e-f)*(f-j+(e-(j+=s/h))))}return i[N]=e,t[0]=j,t[1]=l/v,t}};export{f as default};
//# sourceMappingURL=index.mjs.map
