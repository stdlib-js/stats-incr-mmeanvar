// Copyright (c) 2023 The Stdlib Authors. License is Apache-2.0: http://www.apache.org/licenses/LICENSE-2.0
/// <reference types="./index.d.ts" />
import{isPrimitive as e}from"https://cdn.jsdelivr.net/gh/stdlib-js/assert-is-positive-integer@esm/index.mjs";import r from"https://cdn.jsdelivr.net/gh/stdlib-js/assert-is-array-like-object@esm/index.mjs";import t from"https://cdn.jsdelivr.net/gh/stdlib-js/math-base-assert-is-nan@esm/index.mjs";import s from"https://cdn.jsdelivr.net/gh/stdlib-js/array-float64@esm/index.mjs";import i from"https://cdn.jsdelivr.net/gh/stdlib-js/error-tools-fmtprodmsg@esm/index.mjs";function n(n,o){var m,a,d,f,l,j,h,p,N,b;if(1===arguments.length)m=[0,0],h=n;else{if(!r(n))throw new TypeError(i("1IZ9a,Hy",n));m=n,h=o}if(!e(h))throw new TypeError(i("1IZ9b,Hn",h));return d=new s(h),N=h-1,l=0,j=0,b=-1,p=0,g;function g(e){var r,s;if(0===arguments.length)return 0===p?null:(m[0]=j,1===p?t(l)?m[1]=NaN:m[1]=0:m[1]=p<h?l/(p-1):l/N,m);if(b=(b+1)%h,t(e))p=h,j=NaN,l=NaN;else{if(p<h)return d[b]=e,l+=(a=e-j)*(e-(j+=a/(p+=1))),m[0]=j,m[1]=1===p?0:l/(p-1),m;if(1===p)return j=e,l=0,m[0]=e,m[1]=0,m;if(t(d[b])){for(p=1,j=e,l=0,r=0;r<h;r++)if(r!==b){if(s=d[r],t(s)){p=h,j=NaN,l=NaN;break}l+=(a=s-j)*(s-(j+=a/(p+=1)))}}else!1===t(l)&&(f=d[b],l+=(a=e-f)*(f-j+(e-(j+=a/h))))}return d[b]=e,m[0]=j,m[1]=l/N,m}}export{n as default};
//# sourceMappingURL=index.mjs.map
